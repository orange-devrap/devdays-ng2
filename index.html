<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="icon" type="image/x-icon" href="images/favicon.png">
		<title>Angular2</title>

		<meta name="description" content="présentation Angular2">
		<meta name="author" content="Julien Ciais">


		<link rel="stylesheet" href="css/reveal.css">

		<!-- theme orange -->
		<link rel="stylesheet" href="css/theme/orange.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

<!--
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="lib/css/zenburn.css">
-->
        <!-- Font awesome -->
		<link rel="stylesheet" href="lib/font-awesome-4.3.0/css/font-awesome.min.css" >

        <!-- Bootstrap -->
		<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css" media="screen">

		<!-- CSS orange boilerplate -->
		<link rel="stylesheet" href="css/orange-boilerplate.css" id="theme">

		<!-- CSS angular2 -->
		<link rel="stylesheet" href="css/orange-angular2.css" id="theme">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
<!-- ===== -->
<!-- COVER -->
<!-- ===== -->
				<section class="cover" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                        <div class="logo-orange"></div>
                        
                        <div class="title" style="padding-top:200px">
                            <header class="background-sky">
                                <div class="hero background-superhero-paper is-large">
                                    <h1 class="hero-logo"></h1>
                                </div>
                            </header>        
                        </div>
                        
                        <div class="author" style="color:#fff">
                            <h4>Julien Ciais</h4>
                            <h4><small>DSI/DevRap</small></h4>
                        </div>
                        
				</section>

<!-- ==== -->
<!-- PLAN -->
<!-- ==== -->

				<section class="plan" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                    <div class="logo-orange"></div>
                    <div class="title">
                        <header class="background-sky">
                            <div class="hero background-superhero-paper is-large">
                                <h1 class="hero-logo"></h1>
                            </div>
                        </header>        
                    </div>
                    <div  style="padding-top:50px;color:#fff">
                        <ol>
                            <li>AngularJS : rappels</li>
                            <li>Angular 2 : solutions</li>
                            <li>Angular 2 : architecture</li>
                            <li>live coding : chat ng2 & firebase</li>
                        </ol>
                    </div>
				</section>


<!-- ========= -->
<!-- Angular 1 -->
<!-- ========= -->
            <section>
                
				<section data-background="#0273d4" class="chapter" >
					<div class="logo-orange"></div>
                    <div class="text-center" style="padding-top:200px;">
                        <img class="noborder" height="250" alt="AngularJS" src="./images/AngularJS-huge-inverse.png">
                    </div>
                    <h2 class="title subtitle text-center">rappels...</h2>
				</section>


                <section class="slide">

                    <h2><logo-ng></logo-ng>architecture</h2>

                    <div class="text-center">
                        <img src="./images/angular1_archi.png" height="292" class="noborder">
                    </div>

					<!--<div class="container-fluid">
						<div class="row">
							<div class="col-xs-6">
								<div class="list condensed">
									<ul>
										<li class="fragment fade-up"><p>MVC</p></li>
										<li class="fragment fade-up"><p>HTML enrichi & data-binding</p></li>
										<li class="fragment fade-up"><p>directives</p></li>
									</ul>
								</div>
							</div>
							<div class="col-xs-6">
								<div class="list condensed">
									<ul>
										<li class="fragment fade-up"><p>Dependecy Injection</p></li>
										<li class="fragment fade-up"><p>Filtres</p></li>
										<li class="fragment fade-up"><p>Testable</p></li>
									</ul>
								</div>
							</div>
						</div>
					</div>-->

                    <div class="container-fluid cards" style="padding-top:50px">
                        <div class="row">
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue lines">MVC<br><span class="fts-md">($scope)</span></div>
							</div>
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue">HTML++</div>
							</div>
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue lines">two-way<br>data-binding</div>
							</div>
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue">Directives</div>
							</div>
                        </div>
                        <div class="row">
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue">Services</div>
							</div>
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue">D. Injection</div>
							</div>
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue">Filtres</div>
							</div>
							<div class="col-xs-3 fragment fade-up">
								<div class="card blue">Testable</div>
							</div>
                        </div>
                    </div>


				</section>

                <section class="slide">

                    <h2><logo-ng></logo-ng>points faibles</h2>

                    <div class="list child">
                        <ul>
                            <li>
                                <p class="info"><strong>directives</strong></p>
                                <p>syntaxe obscure, complexité (compile, link) ...</p>
                            </li>
                            <li>
                                <p class="info"><strong>two-way data-binding</strong></p>
                                <p>bind once, performance ...</p>
                            </li>
                            <li>
                                <p class="info"><strong>scopes</strong></p>
                                <p>hiérarchie des scopes, conflit ...</p>
                            </li>
                            <li>
                                <p class="info"><strong>et bien d'autres encore</strong></p>
                                <p>service/factory/provider, X implémentations possibles ...</p>
                            </li>
                        </ul>
                    </div>



				</section>

				<section data-background="./images/magic.gif">
					<p class="text-center" style="font-size:3em;color:white; padding-top:350px">au début c'est ...</p>
				</section>

				<section data-background="./images/boat.gif" data-background-color="#000">
					<p class="text-center" style="font-size:2em;color:white; padding-top:380px">mais quand on est dans le bateau ...</p>
				</section>

                <section class="slide">
                    <h2><logo-ng></logo-ng>ng-europe oct. 2014</h2>
                    
                    <div class="container">
                        
                        <div class="row">
                            
                            <div class="col-xs-5 text-center">
                                <img src="./images/AngularJS-Shield-large.png" height="180" class="noborder">
                                <div><p>angularJS 1.3</p></div>
                            </div>
                            <div class="col-xs-1 text-center">
                                <div style="color:#000; font-size:2.7em;"><p>VS</p></div>
                            </div>
                            <div class="col-xs-6 text-center">
                                <img src="./images/shield-ng2.png" height="180" class="noborder">
                                <div><p>angular 2</p></div>
                            </div>
                            
                        </div>
                        
                        <div class="row">
                            <div class="col-xs-12 text-center">
                                <img src="./images/RIP_ng1.png" height="372" class="noborder">
                            </div>
                        </div>
                        
                        
                    </div>
                    
                </section>

            </section>


<!-- ================== -->
<!-- Angular 2 solution -->
<!-- ================== -->
            <section>

				<section class="chapter" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                    <div class="logo-orange"></div>
                    <div class="title">
                        <header class="background-sky">
                            <div class="hero background-superhero-paper is-large">
                                <h1 class="hero-logo"></h1>
                            </div>
                        </header>        
                    </div>
                    <h2 class="title subtitle text-center">solutions...</h2>
				</section>

                <section class="slide">

                    <h2><logo></logo>objectifs</h2>
                    
                    <div class="list child">
                        <ul style="font-size:2em">
                            <li>
                                <p class="info"><strong>Rapidité</strong></p>
                            </li>
                            <li>
                                <p class="info"><strong>Simplicité</strong></p>
                            </li>
                            <li>
                                <p class="info"><strong>Productivité</strong></p>
                            </li>
                        </ul>
                    </div>
                    
                </section>

                <section class="slide">

                    <h2><logo></logo>multi plateformes</h2>

                    <div class="container-fluid cards" style="padding-top:80px">
                        <div class="row">
							<div class="col-xs-3 text-center">
								<img class="noborder" height="140" alt="web" src="./images/web.png">
							</div>
							<div class="col-xs-3 text-center">
								<img class="noborder" height="120" alt="web" src="./images/mobile.png">
							</div>
							<div class="col-xs-3 text-center">
								<div style="float:left">
									<img class="noborder" height="120" alt="web" src="./images/natif.png">
								</div>
								<div style="float:left">
									<img class="noborder" height="120" alt="web" src="./images/windows-phone.png">
								</div>
							</div>
							<div class="col-xs-3 text-center">
								<img class="noborder" height="140" alt="web" src="./images/desktop.png">
							</div>
                        </div>
                        <div class="row">
							<div class="col-xs-3">
								<div class="card">Web</div>
							</div>
							<div class="col-xs-3">
								<div class="card">Mobile web</div>
							</div>
							<div class="col-xs-3">
								<div class="card">Mobile natif</div>
							</div>
							<div class="col-xs-3">
								<div class="card">Desktop</div>
							</div>
                        </div>
                    </div>
					<div style="padding-top:80px" class="fragment fade-up">
						<p class="orange text-center fts-lg">Un seul code base pour tous :) !</p>
					</div>
                </section>

                <section class="slide">

                    <h2><logo></logo>framework to plateform</h2>

                    <div class="container-fluid cards" style="padding-top:80px">
                        <div class="row fragment fade-up" data-fragment-index="3">
							<div class="col-xs-3 fragment fade-up" data-fragment-index="5">
								<div class="card green">i18n</div>
							</div>
							<div class="col-xs-3">
								<div class="card blue">CLI<div class="subtitle">(build tool)</div></div>
							</div>
							<div class="col-xs-3">
								<div class="card blue">Language<div class="subtitle">(Typescript)</div></div>
							</div>
							<div class="col-xs-3">
								<div class="card blue">Augury<div class="subtitle">(debugging)</div></div>
							</div>
                        </div>
                        <div class="row fragment fade-up" data-fragment-index="2">
							<div class="col-xs-3 fragment fade-up" data-fragment-index="5">
								<div class="card green">Animation</div>
							</div>
							<div class="col-xs-3">
								<div class="card bluelight">Material<div class="subtitle">(UI tool)</div></div>
							</div>
							<div class="col-xs-3">
								<div class="card bluelight">Mobile</div>
							</div>
							<div class="col-xs-3">
								<div class="card bluelight">Universal<div class="subtitle">(server)</div></div>
							</div>
                        </div>
                        <div class="row fragment fade-up" data-fragment-index="1">
							<div class="col-xs-3 fragment fade-up" data-fragment-index="5">
								<div class="card green">Router</div>
							</div>
							<div class="col-xs-3">
								<div class="card purple">Compile</div>
							</div>
							<div class="col-xs-3">
								<div class="card purple">Change</div>
							</div>
							<div class="col-xs-3">
								<div class="card purple">Render</div>
							</div>
                        </div>
                        <div class="row">
							<div class="col-xs-3 fragment fade-up" data-fragment-index="4">
								<div class="card yellow">ngUpgrade</div>
							</div>
							<div class="col-xs-3">
								<div class="card purple">D.Injection</div>
							</div>
							<div class="col-xs-3">
								<div class="card purple">Decorators</div>
							</div>
							<div class="col-xs-3">
								<div class="card purple">Zones</div>
							</div>
                        </div>
                    </div>

                </section>

                <section class="slide">

                    <h2><logo></logo>Typescript</h2>

                    <div class="container-fluid">
						<div class="row">
							<div class="col-xs-7">
								<div class="list condensed">
								<ul>
									<li><p>Superset Javascript (JS++)</p></li>
									<li><p>Transpile ES6 / ES5</p></li>
									<li><p>Types</p></li>
									<li><p>Annotations</p></li>
									<li><p>Approche objet: Interfaces, classes abstraites, namespaces...</p></li>
									<li><p>Outils : VSCode, linter, ...</p></li>
								</ul>
								</div>
							</div>
							<div class="col-xs-5">
								<img class="noborder" height="360" alt="web" src="./images/typescript.png">
							</div>
						</div>
                    </div>
                </section>

            </section>


<!-- ====================== -->
<!-- Angular 2 architecture -->
<!-- ====================== -->
            <section>

				<section class="chapter" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                    <div class="logo-orange"></div>
                    <div class="title">
                        <header class="background-sky">
                            <div class="hero background-superhero-paper is-large">
                                <h1 class="hero-logo"></h1>
                            </div>
                        </header>        
                    </div>
                    <h2 class="title subtitle text-center">architecture...</h2>
				</section>

                
                <section class="slide">

                    <h2><logo></logo>architecture</h2>

                    <div class="text-center">
                        <img src="./images/archi_01_global.png" height="350" class="noborder">
                    </div>

                    <div class="container-fluid cards medium">
                        <div class="row">
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Module</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Components</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Templates</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Metadata</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">D. Binding</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Directives</div>
							</div>
                        </div>
                        <div class="row">
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Services</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">D. Injection</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Pipes</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">HTTP</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Router</div>
							</div>
							<div class="col-xs-2 fragment fade-up">
								<div class="card blue">Forms</div>
							</div>
                        </div>
                        <div class="row fragment fade-up">
							<div class="col-xs-2">
								<div class="card bluelight">Animations</div>
							</div>
							<div class="col-xs-2">
								<div class="card bluelight">Change</div>
							</div>
							<div class="col-xs-2">
								<div class="card bluelight">Events</div>
							</div>
							<div class="col-xs-2">
								<div class="card bluelight">LC Hooks</div>
							</div>
							<div class="col-xs-2">
								<div class="card bluelight">Testing</div>
							</div>
							<div class="col-xs-2">
								<div class="card bluelight">...</div>
							</div>
                        </div>
                    </div>

                </section>
            
                <section class="slide">

                    <h2><logo></logo>module</h2>

                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-xs-4 text-right">
                                <!--<img src="./images/archi_02_module.png" height="180" class="noborder">-->
                                <img src="./images/archi_02_module_lib.png" height="200" class="noborder">
                            </div>
                            <div class="col-xs-8">
                                <div class="list condensed fts-md" >
                                    <ul>
                                        <li><p>decorator : <code>@NgModule</code> </p></li>
                                        <li><p>application <i class="fa fa-long-arrow-right" aria-hidden="true"></i> 1 root module <br><i class="fa fa-long-arrow-right" aria-hidden="true"></i> N features modules</p></li>
                                        <li><p>expose ses composants</p></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
					<pre><code class="hljs" data-trim>
import { NgModule }                 from '@angular/core';
import { ChatMessagesService, ... } from './shared/services';
import ...;
@NgModule({
  declarations: [ // components, directives & pipes
    AppComponent, RoomsComponent, ChatComponent ...
  ],
  imports: [      // other modules with classes are needed
    BrowserModule, CommonModule, routing, FormsModule ...
  ],
  providers: [ ChatMessagesService, AuthService ... ],
  bootstrap: [ AppComponent ]    // main app view
})
export class AppModule { }
					</code></pre>
                    
                </section>

                <section class="slide">

                    <h2><logo></logo>component</h2>

                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-xs-4 text-right ">
                                <img src="./images/archi_03_component.png" height="200" class="noborder">
                            </div>
                            <div class="col-xs-8 fts-md">
                                <div class="list condensed">
                                    <ul>
                                        <li><p>classe contenant la logique applicative</p></li>
                                        <li><p>interagit via API : properties / methods</p></li>
                                        <li><p>lifecycle hooks (init, check, afterX, destroy)</p></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <pre><code class="hljs " data-trim >
export class MessagesComponent implements OnInit {

  @Input() roomId: string;
  @Output() selectMsg: EventEmitter &lt;ChatMessage>;

  messages: Observable &lt;ChatMessage[]>;

  constructor(private chatService: ChatMessagesService) { }

  ngOnInit() {
    this.messages = this.chatService.getMessagesByRoomId(this.roomId);
  }

  selectMessage(msg: ChatMessage) {
    this.selectMsg.emit(msg);
  }
}
</code></pre>

                </section>
            
                <section class="slide">

                    <h2><logo></logo>template</h2>

                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-xs-6 text-center">
                                <!--<img src="./images/archi_04_template.png" height="200" class="noborder">-->
                                <img src="./images/archi_04_tree_components.png" height="400" class="noborder">
                            </div>
                            <div class="col-xs-6 " style="font-size:0.9em;">
                                <div class="list ">
                                    <ul>
                                        <li><p>HTML++ pour rendre le composant</p></li>
                                        <li><p>Angular's template syntaxe</p></li>
                                        <li><p>arbre de composants</p></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <pre><code class="hljs html" data-trim >
<div *ngFor="let msg of (messages | async); trackBy: trackByKey;">

    <ddo-message  [message]="msg" (click)="selectMessage(msg)"></ddo-message>

</div>
</code></pre>

                </section>
            
                <section class="slide">

                    <h2><logo></logo>metadata</h2>

                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-xs-3 text-right">
                                <img src="./images/archi_05_template-metadata-component.png" width="172" class="noborder">
                            </div>
                            <div class="col-xs-9">
                                <div class="list condensed " style="font-size:0.9em;">
                                    <ul>
                                        <li><p>decorator (@annotation)</p></li>
                                        <li><p>décrit <strong>comment</strong> traiter la classe</p></li>
                                        <li><p>template + metadata + component <i class="fa fa-long-arrow-right" aria-hidden="true"></i> view</p></li>
                                        <li><p class="fts-md"><code>@Component</code>, <code>@Injectable</code>, <code>@Input</code>, <code>@Output</code>, ...</p></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <pre><code class="hljs" data-trim>
@Component({
  moduleId: module.id,
  selector: 'ddo-message-form',
  templateUrl: 'message-form.component.html',
  styleUrls: ['message-form.component.css']
})
export class MessageFormComponent implements OnInit {

  @Input() roomId: string;

  @Output() selectMsg: EventEmitter;

  /* . . . */
}
                    </code></pre>

                </section>
            
                <section class="slide">

                    <h2 style="margin-bottom:5px"><logo></logo>view</h2>
<p>template <code class="fts-md">messages.component.html</code></p>

                    <pre><code class="hljs html" data-trim >
<div *ngFor="let msg of (messages | async); trackBy: trackByKey;">
    <ddo-message  [message]="msg" (click)="selectMessage(msg)"></ddo-message>
</div>
</code></pre>
                    
<p>metadata <code class="fts-md">messages.component.ts</code> </p>
                    <pre><code class="hljs" data-trim>
@Component({
  selector: 'ddo-messages',
  templateUrl: './messages.component.html',
  styleUrls: ['./messages.component.css']
})
</code></pre>

<p>component <code class="fts-md">messages.component.ts</code> </p>
                    <pre><code class="hljs" >
export class MessagesComponent implements OnInit {
  @Input() roomId: string;
  @Output() selectMsg: EventEmitter&lt;ChatMessage>;
  
  messages: Observable&lt;ChatMessage[]>;

  constructor(private chatService: ChatMessagesService) { }
  /* . . . */
}                   </code></pre>
                    


                </section>

                <section class="slide">

                    <h2><logo></logo>data binding</h2>
                    <br>

                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-xs-4 text-center">
                                    <img src="./images/archi_06_binding.png" height="350" class="noborder">
                            </div>
                            <div class="col-xs-8 text-center">
                                    <div class="list " style="font-size:0.95em;">
                                        <ul>
                                            <li><p>interpolation <code>{{ message.body }}</code></p></li>
                                            <li><p>property binding <code>[message]</code></p></li>
                                            <li><p>event binding <code>(click)</code></p></li>
                                            <li><p>two-way data binding <code>[(ngModel)]</code></p></li>
                                        </ul>
                                    </div>
                            </div>
                        </div>
                    </div>

                </section>
                <section class="slide">

                    <h2 style="margin-bottom:0"><logo></logo>binding communication</h2>
                    <p class="fts-md" style="font-style: italic">
                        "Angular processes all data bindings once per JavaScript event cycle, from the root of the application component tree through all child components."
                    </p>
                    <div class="container-fluid" style="font-size:0.9em">
                        <div class="row">
                            <div class="col-xs-6 text-center">
                                <div class="row">
                                    <img src="./images/archi_06_binding_global.png" height="300" class="noborder">
                                </div>
                                <div class="row">
                                    <img src="./images/archi_06_parent-child-binding.png" height="300" class="noborder">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="row" style="height:350px;padding-top:50px">
                                    <div class="list">
                                        <ul>
                                            <li><p>entre template et component</p></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="list">
                                        <ul>
                                            <li><p>entre parent et enfant</p></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </section>

                <section class="slide">

                    <h2 style="margin-bottom:0"><logo></logo>directive</h2>

                    <div class="text-center">
                        <img src="./images/archi_07_directive.png" height="250" class="noborder">
                    </div>
                    <div class="list condensed">
                        <ul>
                            <li><p><code class="fts-md">@Directive</code> : classe avec metadata</p></li>
                            <li><p><code class="fts-md">@Component</code> : directive avec template</p></li>
                            <li><p><strong>structural</strong>: DOM <i class="fa fa-long-arrow-right" aria-hidden="true"></i> add/remove/replace</p></li>
                            <pre style="width:100%"><code class="hljs" data-trim>
<div *ngFor="let msg of messages | async">[...]</div>
                            </code></pre>
                            <li><p><strong>attribute</strong>: element <i class="fa fa-long-arrow-right" aria-hidden="true"></i> apparence/comportement</p></li>
                            <pre style="width:100%"><code class="hljs" data-trim>
<input [ngClass]="setClasses()" [(ngModel)]="message.body" >
                            </code></pre>
                        </ul>
                    </div>

                </section>

                <section class="slide">

                    <h2 class="no-margin-bt"><logo></logo>service</h2>

                    <div class="text-center">
                        <img src="./images/archi_08_service.png" height="200" class="noborder">
                    </div>
                    <div class="list condensed">
                        <ul>
                            <li><p>class "simple" : aucune spécificitée liée à Angular</p></li>
                            <li><p>composants consomment les services fournis via DI</p></li>
                        </ul>
                    </div>
                    <pre><code class="hljs" data-trim>
import { Injectable } from '@angular/core';

@Injectable()
export class ChatMessagesService {

  constructor(private af: AngularFire) { }

  getMessagesByRoomId(roomId: string): Observable&lt;ChatMessage[]> { /*..*/ }
}
                    </code></pre>
                </section>
            
                <section class="slide">

                    <h2><logo></logo>dependency injection</h2>

                    <div class="text-center">
                        <!--<img src="./images/archi_09_DI.png" height="200" class="noborder">-->
                        <img src="./images/archi_09_DI_inject.png" height="250" class="noborder">
                    </div>

                    <div class="list condensed fts-md">
                        <ul>
                            <li><p>fournit aux composants les services nécessaires</p></li>
                            <li><p>injecté via le constructeur du composant</p></li>
                            <pre style="width:100%"><code class="hljs" data-trim>
export class MessagesComponent implements OnInit {
  constructor(private chatMessageService: ChatMessagesService) { }
}  
                              </code></pre>
                            <li><p>injector</p>
                                <ul>
                                    <li><span>maintient un container de services</span></li>
                                    <li><span>créé une instance de service via un provider</span></li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                </section>
            
                <section class="slide">

                    <h2><logo></logo>pipes</h2>

                    <div class="list condensed">
                        <ul>
                            <li><p>manipulation de donnée</p>
                                <ul>
                                    <li><span><code style="font-size:0.8em">{{ price | currency:'EUR':true }}</code> : 51.30 <i class="fa fa-long-arrow-right" aria-hidden="true"></i> 52.30€</span></li>
                                </ul>
                            </li>
                            <li><p>Pipes disponibles dans le framework :</p>
                                <ul>
                                   <img class="noborder" height="110" alt="api pipes" src="./images/archi_10_pipes.png">
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <p class="fts-md"><code>UpperCasePipe.ts</code></p>
                    <pre><code class="hljs" data-trim>
@Pipe({name: 'uppercase'})
export class UpperCasePipe implements PipeTransform {
  transform(value: string): string {
    if (isBlank(value)) return value;
    if (typeof value !== 'string') {
      throw new InvalidPipeArgumentError(UpperCasePipe, value);
    }
    return value.toUpperCase();
  }
}
                    </code></pre>
                </section>


<!--
                <section class="slide">

                    <h2><logo></logo>HTTP</h2>

                    <div class="text-center">
                        <img src="./images/archi_0.png" height="200" class="noborder">
                    </div>
                </section>
            
-->

                <section class="slide">

                    <h2 class="no-margin-bt"><logo></logo>router</h2>

                    <div class="text-center">
                        <img class="noborder" style="height:280px" alt="router pattern" src="./images/router-pattern.png">
                    </div>

                    <div class="list condensed fts-md">
                        <ul>
                            <li><p>chaque <strong>composant</strong> est routable</p></li>
                            <li><p>les routes se font entre <strong>composants</strong></p></li>
                            <li><p>chaque composant a son propre <strong>router-outlet</strong> et ses <strong>child routes</strong></p></li>
                        </ul>
                    </div>
                    <pre><code class="hljs" data-trim>
// configuration routes                        
const appRoutes: Routes = [
{ path:'', component:LoginComponent },
{ path:'rooms', component:RoomsComponent, canActivate:[AuthGuardService] },
];
// navigate from template
<a routerLink="/rooms">rooms</a>
// navigate from component
this.router.navigate(['/rooms']);
                    </code></pre>
                </section>
            
                <!--<section class="slide">

                    <h2><logo></logo>forms</h2>

                    <div class="text-center">
                        <img src="./images/archi_0.png" height="200" class="noborder">
                    </div>
                </section>-->
            
            </section>



<!-- ============================= -->
<!-- Live coding chat ng2/firebase -->
<!-- ============================= -->

            <section class="chapter" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                    <div class="logo-orange"></div>
                    <div class="title">
                        <header class="background-sky">
                            <div class="hero background-superhero-paper is-large">
                                <h1 class="hero-logo"></h1>
                            </div>
                        </header>
                    </div>
                    <h2 class="subtitle text-center">livecoding chat</h2>
                    <h3 class=" subtitle text-center">angular2 & firebase</h3>
                    <h4 class="text-center"><a href="https://devdays-chat.herokuapp.com/">https://devdays-chat.herokuapp.com/</a></h4>
                    <h4 class="text-center"><a href="https://github.com/orange-devrap/devdays-chat">@github  orange-devrap/devdays-chat</a></h4>
            </section>

<!-- QUESTIONS -->

            <section class="chapter" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                    <div class="logo-orange"></div>
                    <div class="title">
                        <header class="background-sky">
                            <div class="hero background-superhero-paper is-large">
                                <h1 class="hero-logo"></h1>
                            </div>
                        </header>
                    </div>
                    <h2 class="title subtitle text-center">questions ?</h2>
            </section>

<!-- ====== -->
<!-- thanks -->
<!-- ====== -->
            <section class="chapter" data-background="rgba(0, 0, 0, 0) linear-gradient(#0143a3, #0273d4) repeat scroll 0 0">
                <div class="background">
                    <div class="logo-orange"></div>
                    <div class="title">
                        <header class="background-sky">
                            <div class="hero background-superhero-paper is-large">
                                <h1 class="hero-logo"></h1>
                            </div>
                        </header>
                    </div>
                </div>
                <h2 class="text-center subtitle">merci :)</h2>
                <h4 class="text-center"><a href="https://github.com/orange-devrap/devdays-chat">slides github orange-devrap/devdays-ng2</a></h4>
                <div class="container-fluid" style="font-size: 0.9em">
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="list white">
                                <ul >
                                    <li><a target="blank" href="https://angular.io/docs/ts/latest/guide/">angular.io</a> <small>dev & style guide</small></li>
                                    <li><a target="blank" href="https://angularclass.github.io/awesome-angular2/">awesome angular 2</a> <small>resources list</small></li>
                                    <li><a target="blank" href="https://angularclass.github.io/angular2-webpack-starter/">Webpack Starter</a> <small>@AngularClass</small></li>
                                    <li><a target="blank" href="http://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html">Change detection</a> <small>@PascalPrecht</small></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-xs-6">
                            <div class="list white">
                                <ul >
                                    <li><a target="blank" href="http://slides.com/nadeensouthgate/deck#/">ng2 by example</a> <small>@noddysouthgate</small></li>
                                    <li><a target="blank" href="http://slides.com/ocombe/mixit2016#/">angular2 MIX-IT</a> <small>@OCombe</small></li>
                                    <li><a target="blank" href="http://zenika.github.io/Presentations/20151022-matinale-angular2-theorie/">angular2 theorie</a> <small>@EmmanuelDemey</small></li>
                                    <li><a target="blank" href="https://gist.github.com/btroncone/a6e4347326749f938510">@ngrx/store</a> <small>@BTroncone</small></li>
                                </ul>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </section>

			</div>

		</div>


		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script src="lib/jquery/jquery-2.1.4.min.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				center: false,
			    width: 1024, // 960 - 1024
			    height: 846, // 700 - 746
				slideNumber: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
